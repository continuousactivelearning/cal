# Activity Engine Documentation

## Overview

The Activity Engine is responsible for managing data generated by student interactions, such as attempts, answers, metrics, and grading results. It works in conjunction with the Core Engine, which is the source of truth for courses, users, and assessments metadata.

## Guiding Principles

### Domain Boundaries

- **Core Engine (Django API)**: This is the source of truth for courses, users, and assessments metadata. It knows what assessments exist, what questions they contain, and which students are enrolled.
- **Activity Engine (Express API)**: This manages data generated by student interactions, including attempts, answers, metrics, and grading results.

### Resource Orientation

In the Activity Engine, endpoints are designed around the primary entities that this service owns:

- **Assessment Attempts**: Representing a student’s interaction with an assessment.
- **Answers**: Student’s responses submitted during an attempt.
- **Metrics**: Student’s activity metrics (video views, violations, etc.).
- **Grading**: Processes and results associated with attempts.

All references to students, courses, and assessments can rely on IDs that originate from the Core Engine. The Activity Engine doesn't need to manage the details of those entities—it just stores relationships and user-generated content tied to those IDs.

### Integration Points

Since the Core Engine holds the master data, the Activity Engine may need to:

- Validate references (like `courseInstanceId`, `assessmentId`, `studentId`) by calling the Core Engine or trusting that the front-end only provides valid references.
- Potentially call the Core Engine if it needs confirmation about assessment structure or other metadata, or keep a local cache if performance is a concern.

## API Documentation

### Getting API Docs

To access the API documentation for the Activity Engine, follow these steps:

1. Navigate to the root directory of the Activity Engine project.
2. Run the following command to start the server:
    ```bash
    npm start
    ```
3. Open your web browser and go to `http://localhost:9000/reference` to view the API documentation.

### API Structure

The Activity Engine API is structured around the following primary entities:

- **Assessment Attempts**
  - `GET /attempts`: Retrieve a list of assessment attempts.
  - `POST /attempts`: Create a new assessment attempt.
  - `GET /attempts/:id`: Retrieve a specific assessment attempt.
  - `PUT /attempts/:id`: Update a specific assessment attempt.
  - `DELETE /attempts/:id`: Delete a specific assessment attempt.

- **Answers**
  - `GET /answers`: Retrieve a list of answers.
  - `POST /answers`: Submit a new answer.
  - `GET /answers/:id`: Retrieve a specific answer.
  - `PUT /answers/:id`: Update a specific answer.
  - `DELETE /answers/:id`: Delete a specific answer.

- **Metrics**
  - `GET /metrics`: Retrieve a list of metrics.
  - `POST /metrics`: Submit new metrics.
  - `GET /metrics/:id`: Retrieve specific metrics.
  - `PUT /metrics/:id`: Update specific metrics.
  - `DELETE /metrics/:id`: Delete specific metrics.

- **Grading**
  - `GET /grading`: Retrieve grading results.
  - `POST /grading`: Submit grading results.
  - `GET /grading/:id`: Retrieve specific grading results.
  - `PUT /grading/:id`: Update specific grading results.
  - `DELETE /grading/:id`: Delete specific grading results.

## Conclusion

The Activity Engine is designed to manage and store data generated by student interactions, while the Core Engine maintains the master data for courses, users, and assessments. By following the guiding principles and utilizing the provided API endpoints, you can effectively integrate and manage student activity data within your application.